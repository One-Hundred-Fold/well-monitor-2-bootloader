/**
  ******************************************************************************
  * @file    app_metadata.c
  * @brief   Bootloader binary metadata at end of image (8-byte aligned).
  *          Post-build step overwrites dest_address, size, and SHA256 digest.
  ******************************************************************************
  */

#include <stdint.h>

/* Placed at end of FLASH image by linker; 8-byte aligned in linker script. */
__attribute__((section(".app_metadata"), used, aligned(8)))
const uint8_t app_metadata[88] = {
  /* 8-byte magic */
  0xDE, 0xAD, 0xBE, 0xEF, 0xCA, 0xFE, 0xBA, 0xBE,
  /* 8-byte inverted magic */
  0x21, 0x52, 0x41, 0x10, 0x35, 0x01, 0x45, 0x42,
  /* 8-byte name: "WSM_BL" */
  'W', 'S', 'M', '_', 'B', 'L', 0x00, 0x00,
  /* 8-byte version: "1.0.0" */
  '1', '.', '0', '.', '0', 0x00, 0x00, 0x00,
  /* 4-byte dest_address (LE, sector 4 = 0x08010000; post-build overwrites) */
  0x00, 0x00, 0x01, 0x08,
  /* 4-byte size (LE, post-build overwrites; 0xFF placeholder) */
  0xFF, 0xFF, 0xFF, 0xFF,
  /* 8-byte validation (download state) */
  0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00,
  /* 8-byte invalidation */
  0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF,
  /* 32-byte SHA256 digest (post-build overwrites; 0xFF placeholder) */
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
};
